[gd_scene load_steps=8 format=4 uid="uid://q8se4alx4iup"]

[ext_resource type="Script" uid="uid://bqkq8pmqg8bu2" path="res://Levels/level.gd" id="1_ofpim"]
[ext_resource type="TileSet" uid="uid://g4cmev5mdtlp" path="res://enviroment/floor.tres" id="2_7asp1"]
[ext_resource type="TileSet" uid="uid://nilocb3bx5j" path="res://enviroment/trees.tres" id="3_ljgmb"]
[ext_resource type="TileSet" uid="uid://dtk0xpyuun2j8" path="res://enviroment/env.tres" id="4_8kqft"]
[ext_resource type="PackedScene" uid="uid://2jfjcm6ebujw" path="res://player/player.tscn" id="5_ljgmb"]
[ext_resource type="PackedScene" uid="uid://v1cx2pek8gbo" path="res://enemy/enemy.tscn" id="6_8kqft"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_3kf1b"]
vertices = PackedVector2Array(899, 1320.7813, 161.17188, 1305.2109, 394, 1226, 438, 1226, 778, 966, 694, 966, 394, 874, 438, 874, 310, 1226, 778, 874, 778, 614, 899, 538.14844, 174.82031, 548.85156, 694, 614, 310, 966, 694, 1226, 650, 1226, 650, 966, 566, 966, 310, 874, 694, 874, 650, 874, 650, 614, 566, 614, 778, 1226, 566, 874, 522, 874, 522, 614, 438, 614, 566, 1226, 522, 1226, 522, 966, 438, 966, 394, 614, 310, 614, 394, 966)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(4, 5, 6, 7), PackedInt32Array(8, 2, 1), PackedInt32Array(9, 10, 11, 0), PackedInt32Array(12, 11, 10, 13), PackedInt32Array(8, 1, 12, 14), PackedInt32Array(5, 15, 16, 17), PackedInt32Array(6, 5, 17), PackedInt32Array(6, 17, 18, 19), PackedInt32Array(13, 20, 21, 22), PackedInt32Array(12, 13, 22), PackedInt32Array(12, 22, 23), PackedInt32Array(0, 24, 4), PackedInt32Array(9, 0, 4), PackedInt32Array(20, 9, 4), PackedInt32Array(21, 20, 4), PackedInt32Array(15, 24, 0), PackedInt32Array(25, 21, 4), PackedInt32Array(25, 4, 26), PackedInt32Array(25, 26, 27, 23), PackedInt32Array(12, 23, 27), PackedInt32Array(12, 27, 28), PackedInt32Array(16, 15, 0), PackedInt32Array(29, 16, 0), PackedInt32Array(29, 0, 30), PackedInt32Array(18, 29, 30, 31), PackedInt32Array(19, 18, 31), PackedInt32Array(19, 31, 32), PackedInt32Array(7, 26, 4), PackedInt32Array(28, 7, 6, 33), PackedInt32Array(12, 28, 33), PackedInt32Array(12, 33, 34), PackedInt32Array(12, 34, 19), PackedInt32Array(14, 12, 19), PackedInt32Array(35, 14, 19), PackedInt32Array(35, 19, 32), PackedInt32Array(35, 32, 3, 2), PackedInt32Array(0, 3, 30)])
outlines = Array[PackedVector2Array]([PackedVector2Array(165, 539, 909, 528, 909, 1331, 151, 1315)])

[node name="forest1-3" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_ofpim")

[node name="floor" type="TileMapLayer" parent="."]
scale = Vector2(2, 2)
tile_set = ExtResource("2_7asp1")

[node name="tree" type="TileMapLayer" parent="."]
scale = Vector2(2, 2)
tile_map_data = PackedByteArray("AAABAAIAAAAAAAAAAAAFAAIAAAAAAAAAAAAJAAIAAAAAAAAAAAANAAIAAAAAAAAAAAARAAIAAAAAAAAAAAAVAAIAAAAAAAAAAAAZAAIAAAAAAAAAAAAdAAIAAAAAAAAAAAAhAAIAAAAAAAAAAAAlAAIAAAAAAAAAAAApAAIAAAAAAAAAAAAtAAIAAAAAAAAAAAAxAAIAAAAAAAAAAAA1AAIAAAAAAAAAAAA5AAIAAAAAAAAAAAA9AAIAAAAAAAAAAAA=")
tile_set = ExtResource("3_ljgmb")

[node name="treeleaf" type="TileMapLayer" parent="."]
scale = Vector2(2, 2)
tile_map_data = PackedByteArray("AAAAAP//AwABAA4AAAAAAAAAAwABAA8AAAABAP//AwABAA4AAAABAAAAAwABAA8AAAACAP//AwAAAA4AAAACAAAAAwAAAA8AAAADAP//AwABAA4AAAADAAAAAwABAA8AAAAEAP//AwAAAA4AAAAEAAAAAwAAAA8AAAAFAP//AwABAA4AAAAFAAAAAwABAA8AAAAGAP//AwAAAA4AAAAGAAAAAwAAAA8AAAAHAP//AwABAA4AAAAHAAAAAwABAA8AAAAIAP//AwAAAA4AAAAIAAAAAwAAAA8AAAAJAP//AwABAA4AAAAJAAAAAwABAA8AAAAKAP//AwAAAA4AAAAKAAAAAwAAAA8AAAALAP//AwABAA4AAAALAAAAAwABAA8AAAAMAP//AwAAAA4AAAAMAAAAAwAAAA8AAAANAP//AwABAA4AAAANAAAAAwABAA8AAAAOAP//AwAAAA4AAAAOAAAAAwAAAA8AAAAPAP//AwABAA4AAAAPAAAAAwABAA8AAAAQAP//AwAAAA4AAAAQAAAAAwAAAA8AAAARAP//AwABAA4AAAARAAAAAwABAA8AAAASAP//AwAAAA4AAAASAAAAAwAAAA8AAAATAP//AwABAA4AAAATAAAAAwABAA8AAAAUAP//AwAAAA4AAAAUAAAAAwAAAA8AAAAVAP//AwABAA4AAAAVAAAAAwABAA8AAAAWAP//AwAAAA4AAAAWAAAAAwAAAA8AAAAXAP//AwABAA4AAAAXAAAAAwABAA8AAAAYAP//AwAAAA4AAAAYAAAAAwAAAA8AAAAZAP//AwABAA4AAAAZAAAAAwABAA8AAAAaAP//AwAAAA4AAAAaAAAAAwAAAA8AAAAbAP//AwABAA4AAAAbAAAAAwABAA8AAAAcAP//AwAAAA4AAAAcAAAAAwAAAA8AAAAdAP//AwABAA4AAAAdAAAAAwABAA8AAAAeAP//AwAAAA4AAAAeAAAAAwAAAA8AAAAfAP//AwABAA4AAAAfAAAAAwABAA8AAAAgAP//AwAAAA4AAAAgAAAAAwAAAA8AAAAhAP//AwABAA4AAAAhAAAAAwABAA8AAAAiAP//AwAAAA4AAAAiAAAAAwAAAA8AAAAjAP//AwABAA4AAAAjAAAAAwABAA8AAAAkAP//AwAAAA4AAAAkAAAAAwAAAA8AAAAlAP//AwABAA4AAAAlAAAAAwABAA8AAAAmAP//AwAAAA4AAAAmAAAAAwAAAA8AAAAnAP//AwABAA4AAAAnAAAAAwABAA8AAAAoAP//AwAAAA4AAAAoAAAAAwAAAA8AAAApAP//AwABAA4AAAApAAAAAwABAA8AAAAqAP//AwAAAA4AAAAqAAAAAwAAAA8AAAArAP//AwABAA4AAAArAAAAAwABAA8AAAAsAP//AwAAAA4AAAAsAAAAAwAAAA8AAAAtAP//AwABAA4AAAAtAAAAAwABAA8AAAAuAP//AwAAAA4AAAAuAAAAAwAAAA8AAAAvAP//AwABAA4AAAAvAAAAAwABAA8AAAAwAP//AwAAAA4AAAAwAAAAAwAAAA8AAAAxAP//AwABAA4AAAAxAAAAAwABAA8AAAAyAP//AwAAAA4AAAAyAAAAAwAAAA8AAAAzAP//AwABAA4AAAAzAAAAAwABAA8AAAA0AP//AwAAAA4AAAA0AAAAAwAAAA8AAAA1AP//AwABAA4AAAA1AAAAAwABAA8AAAA2AP//AwAAAA4AAAA2AAAAAwAAAA8AAAA3AP//AwABAA4AAAA3AAAAAwABAA8AAAA4AP//AwAAAA4AAAA4AAAAAwAAAA8AAAA5AP//AwABAA4AAAA5AAAAAwABAA8AAAA6AP//AwAAAA4AAAA6AAAAAwAAAA8AAAA7AP//AwABAA4AAAA7AAAAAwABAA8AAAA8AP//AwAAAA4AAAA8AAAAAwAAAA8AAAA9AP//AwABAA4AAAA9AAAAAwABAA8AAAA+AP//AwAAAA4AAAA+AAAAAwAAAA8AAAA/AP//AwABAA4AAAA/AAAAAwABAA8AAAD/////AwAAAA4AAAD//wAAAwAAAA8AAAAAAAkAAwAHAAoAAAAAAAoAAwAHAAsAAAABAAkAAwAIAAoAAAABAAoAAwAIAAsAAAACAAkAAwAHAAoAAAACAAoAAwAHAAsAAAADAAkAAwAIAAoAAAADAAoAAwAIAAsAAAAEAAkAAwAHAAoAAAAEAAoAAwAHAAsAAAAFAAkAAwAIAAoAAAAFAAoAAwAIAAsAAAAGAAkAAwAHAAoAAAAGAAoAAwAHAAsAAAAHAAkAAwAIAAoAAAAHAAoAAwAIAAsAAAAIAAkAAwAHAAoAAAAIAAoAAwAHAAsAAAAJAAkAAwAIAAoAAAAJAAoAAwAIAAsAAAAKAAkAAwAHAAoAAAAKAAoAAwAHAAsAAAALAAkAAwAIAAoAAAALAAoAAwAIAAsAAAAMAAkAAwAHAAoAAAAMAAoAAwAHAAsAAAANAAkAAwAIAAoAAAANAAoAAwAIAAsAAAAOAAkAAwAHAAoAAAAOAAoAAwAHAAsAAAAPAAkAAwAIAAoAAAAPAAoAAwAIAAsAAAAQAAkAAwAHAAoAAAAQAAoAAwAHAAsAAAARAAkAAwAIAAoAAAARAAoAAwAIAAsAAAASAAkAAwAHAAoAAAASAAoAAwAHAAsAAAATAAkAAwAIAAoAAAATAAoAAwAIAAsAAAAUAAkAAwAHAAoAAAAUAAoAAwAHAAsAAAAVAAkAAwAIAAoAAAAVAAoAAwAIAAsAAAAWAAkAAwAHAAoAAAAWAAoAAwAHAAsAAAAXAAkAAwAIAAoAAAAXAAoAAwAIAAsAAAAYAAkAAwAHAAoAAAAYAAoAAwAHAAsAAAAoAAoAAwAHAAsAAAApAAoAAwAIAAsAAAAmAAoAAwAHAAsAAAAnAAoAAwAIAAsAAAAlAAoAAwAIAAsAAAAqAAoAAwAHAAsAAAArAAoAAwAIAAsAAAAsAAkAAwAHAAoAAAAsAAoAAwAHAAsAAAAtAAkAAwAIAAoAAAAtAAoAAwAIAAsAAAAuAAkAAwAHAAoAAAAuAAoAAwAHAAsAAAAvAAkAAwAIAAoAAAAvAAoAAwAIAAsAAAAwAAkAAwAHAAoAAAAwAAoAAwAHAAsAAAAxAAkAAwAIAAoAAAAxAAoAAwAIAAsAAAAyAAkAAwAHAAoAAAAyAAoAAwAHAAsAAAAzAAkAAwAIAAoAAAAzAAoAAwAIAAsAAAA0AAkAAwAHAAoAAAA0AAoAAwAHAAsAAAA1AAkAAwAIAAoAAAA1AAoAAwAIAAsAAAA2AAkAAwAHAAoAAAA2AAoAAwAHAAsAAAA3AAkAAwAIAAoAAAA3AAoAAwAIAAsAAAA4AAkAAwAHAAoAAAA4AAoAAwAHAAsAAAA5AAkAAwAIAAoAAAA5AAoAAwAIAAsAAAA6AAkAAwAHAAoAAAA6AAoAAwAHAAsAAAA7AAkAAwAIAAoAAAA7AAoAAwAIAAsAAAA8AAkAAwAHAAoAAAA8AAoAAwAHAAsAAAA9AAkAAwAIAAoAAAA9AAoAAwAIAAsAAAAlAAkAAwAIAAoAAAAmAAkAAwAHAAoAAAAnAAkAAwAIAAoAAAAoAAkAAwAHAAoAAAApAAkAAwAIAAoAAAAqAAkAAwAHAAoAAAArAAkAAwAIAAoAAAAZAAoAAwAIAAsAAAAZAAkAAwAIAAoAAAAaAAkAAwAKAAoAAAAaAAoAAwAKAAsAAAAbAAkAAwALAAoAAAAbAAoAAwALAAsAAAAhAAkAAwAEAAoAAAAhAAoAAwAEAAsAAAAiAAkAAwAFAAoAAAAiAAoAAwAFAAsAAAAjAAkAAwAIAAoAAAAjAAoAAwAIAAsAAAAkAAkAAwAHAAoAAAAkAAoAAwAHAAsAAAAaAAsAAwAKAA0AAAAaAAwAAwAKAA4AAAAbAAsAAwALAA0AAAAbAAwAAwALAA4AAAAaAA0AAwAKAA0AAAAaAA4AAwAKAA4AAAAbAA0AAwALAA0AAAAbAA4AAwALAA4AAAAhAAsAAwAEAA0AAAAhAAwAAwAEAA4AAAAiAAsAAwAFAA0AAAAiAAwAAwAFAA4AAAAhAA0AAwAEAA0AAAAhAA4AAwAEAA4AAAAiAA0AAwAFAA0AAAAiAA4AAwAFAA4AAAAYAA8AAwAAAA4AAAAYABAAAwAAAA8AAAAZAA8AAwABAA4AAAAZABAAAwABAA8AAAAaAA8AAwACAA4AAAAaABAAAwACAA8AAAAbAA8AAwADAA4AAAAbABAAAwADAA8AAAAhAA8AAwAAABAAAAAhABAAAwAAABEAAAAiAA8AAwABABAAAAAiABAAAwABABEAAAAjAA8AAwACABAAAAAjABAAAwACABEAAAAkAA8AAwADABAAAAAkABAAAwADABEAAAAjAAsAAwAGAAwAAAAjAAwAAwAGAA0AAAAjAA0AAwAGAA4AAAAjAA4AAwAGAA8AAAAkAAsAAwAHAAwAAAAkAAwAAwAHAA0AAAAkAA0AAwAHAA4AAAAkAA4AAwAHAA8AAAAYAAsAAwAIAAwAAAAYAAwAAwAIAA0AAAAYAA0AAwAIAA4AAAAYAA4AAwAIAA8AAAAZAAsAAwAJAAwAAAAZAAwAAwAJAA0AAAAZAA0AAwAJAA4AAAAZAA4AAwAJAA8AAAA=")
tile_set = ExtResource("3_ljgmb")

[node name="enviroment" type="TileMapLayer" parent="."]
scale = Vector2(2, 2)
tile_map_data = PackedByteArray("AAAWABYABAALAAcAAAAWABcABAALAAcAAAAWABgABAALAAcAAAAWABkABAALAAcAAAAWABoABAALAAcAAAASABoABAALAAcAAAASABkABAALAAcAAAASABgABAALAAcAAAASABcABAALAAcAAAASABYABAALAAcAAAAOABoABAALAAcAAAAOABkABAALAAcAAAAOABgABAALAAcAAAAOABcABAALAAcAAAAOABYABAALAAcAAAAKABoABAALAAcAAAAKABgABAALAAcAAAAKABkABAALAAcAAAAKABcABAALAAcAAAAKABYABAALAAcAAAAKACEABAALAAcAAAAKACIABAALAAcAAAAKACMABAALAAcAAAAOACEABAALAAcAAAAOACIABAALAAcAAAAOACMABAALAAcAAAASACEABAALAAcAAAASACIABAALAAcAAAASACMABAALAAcAAAAKACQABAALAAcAAAAOACQABAALAAcAAAASACQABAALAAcAAAAWACQABAALAAcAAAAWACMABAALAAcAAAAWACIABAALAAcAAAAWACEABAALAAcAAAAKACUABAALAAcAAAAOACUABAALAAcAAAASACUABAALAAcAAAAWACUABAALAAcAAAA=")
tile_set = ExtResource("4_8kqft")

[node name="Control" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="ColorRect" type="ColorRect" parent="Control"]
z_index = -3
layout_mode = 0
offset_right = 1920.0
offset_bottom = 1920.0
color = Color(0.38039216, 0.6745098, 0.39607844, 1)

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
navigation_polygon = SubResource("NavigationPolygon_3kf1b")

[node name="collision" type="StaticBody2D" parent="NavigationRegion2D"]

[node name="crates" type="CollisionPolygon2D" parent="NavigationRegion2D/collision"]
polygon = PackedVector2Array(704, 864, 768, 864, 768, 624, 704, 624)

[node name="crates2" type="CollisionPolygon2D" parent="NavigationRegion2D/collision"]
position = Vector2(-128, 0)
polygon = PackedVector2Array(704, 864, 768, 864, 768, 624, 704, 624)

[node name="crates3" type="CollisionPolygon2D" parent="NavigationRegion2D/collision"]
position = Vector2(-256, 0)
polygon = PackedVector2Array(704, 864, 768, 864, 768, 624, 704, 624)

[node name="crates4" type="CollisionPolygon2D" parent="NavigationRegion2D/collision"]
position = Vector2(-384, 0)
polygon = PackedVector2Array(704, 864, 768, 864, 768, 624, 704, 624)

[node name="crates5" type="CollisionPolygon2D" parent="NavigationRegion2D/collision"]
position = Vector2(-384, 352)
polygon = PackedVector2Array(704, 864, 768, 864, 768, 624, 704, 624)

[node name="crates6" type="CollisionPolygon2D" parent="NavigationRegion2D/collision"]
position = Vector2(-256, 352)
polygon = PackedVector2Array(704, 864, 768, 864, 768, 624, 704, 624)

[node name="crates7" type="CollisionPolygon2D" parent="NavigationRegion2D/collision"]
position = Vector2(-128, 352)
polygon = PackedVector2Array(704, 864, 768, 864, 768, 624, 704, 624)

[node name="crates8" type="CollisionPolygon2D" parent="NavigationRegion2D/collision"]
position = Vector2(0, 352)
polygon = PackedVector2Array(704, 864, 768, 864, 768, 624, 704, 624)

[node name="Player" parent="." instance=ExtResource("5_ljgmb")]
position = Vector2(950, 385)

[node name="Camera2D" type="Camera2D" parent="Player"]
drag_horizontal_enabled = true
drag_vertical_enabled = true

[node name="Enemy" parent="." instance=ExtResource("6_8kqft")]
position = Vector2(352, 951)
speed = 200.0
wait_time_at_point = 2.0
patrol_root_path = NodePath("PatrolPoints")
patrol_finish_facing = 2
stun_duration = 0.0
evasion_wait_at_point = 0.0

[node name="NavTimer" type="Timer" parent="Enemy"]
autostart = true

[node name="PatrolPoints" type="Node2D" parent="Enemy"]

[node name="p1" type="Marker2D" parent="Enemy/PatrolPoints"]
position = Vector2(160.5, 29)

[node name="p2" type="Marker2D" parent="Enemy/PatrolPoints"]
position = Vector2(32, 30)

[node name="p3" type="Marker2D" parent="Enemy/PatrolPoints"]
position = Vector2(160.5, 30.5)

[node name="p4" type="Marker2D" parent="Enemy/PatrolPoints"]
position = Vector2(96.5, 30.5)

[node name="p5" type="Marker2D" parent="Enemy/PatrolPoints"]
position = Vector2(32.5, 30.5)

[node name="p6" type="Marker2D" parent="Enemy/PatrolPoints"]
position = Vector2(96.5, 30)

[node name="p7" type="Marker2D" parent="Enemy/PatrolPoints"]
position = Vector2(32.5, 30.5)

[node name="Enemy2" parent="." instance=ExtResource("6_8kqft")]
position = Vector2(739, 889)
speed = 200.0
wait_time_at_point = 2.0
patrol_root_path = NodePath("PatrolPoints")
patrol_finish_facing = 1

[node name="NavTimer" type="Timer" parent="Enemy2"]
autostart = true

[node name="PatrolPoints" type="Node2D" parent="Enemy2"]

[node name="p1" type="Marker2D" parent="Enemy2/PatrolPoints"]
position = Vector2(-33, -31.5)

[node name="p2" type="Marker2D" parent="Enemy2/PatrolPoints"]
position = Vector2(-97, -30.5)

[node name="p3" type="Marker2D" parent="Enemy2/PatrolPoints"]
position = Vector2(-161, -30)

[node name="p4" type="Marker2D" parent="Enemy2/PatrolPoints"]
position = Vector2(-97, -30.5)

[node name="p5" type="Marker2D" parent="Enemy2/PatrolPoints"]
position = Vector2(-161, -30)

[node name="p6" type="Marker2D" parent="Enemy2/PatrolPoints"]
position = Vector2(-97, -30.5)

[node name="p7" type="Marker2D" parent="Enemy2/PatrolPoints"]
position = Vector2(-161, -30)

[connection signal="timeout" from="Enemy/NavTimer" to="Enemy" method="_on_nav_timer_timeout"]
[connection signal="timeout" from="Enemy2/NavTimer" to="Enemy2" method="_on_nav_timer_timeout"]
